{{ define "main" }}
{{/*  {{ $data := index .Site.Data }} */}}

<section class="proj-page" id="proj-page">
	<div class="container">
			<div class="proj-page-text">
					<div class=" container-fluid">
						<div class="row wow fadeInUp" data-wow-duration="1.5s">
							<div class="col-md-3">
								<div class="row detail-content">
									<div class="pop-up-img">
										<!-- NOTE Thumb image ----------------------------------------- -->
										<a href="/images/projects/{{lower .Params.name }}/{{lower .Params.Name }}0.png"
											title="{{ lower .Params.Name | safeHTML }}">
											<img src="/images/projects/{{lower .Params.name }}/{{lower .Params.Name }}0_small.png"
												style="max-width: 95%" alt="project-thumb"
												class="img-fluid rounded float-left mr-5 mb-4">
										</a>
									</div>
								</div>
								<!-- NOTE Details ----------------------------------------- -->
								<div class="row detail-content">
									<h4>Platform: {{.Params.platform }} </h4>
								</div>
								<div class="row detail-content">
									<h4> Category: {{.Params.category }} </h4>
								</div>
								<br>

								{{ if .Params.features }}
								{{ $features := slice }}
								{{ $features = $features | append .Params.featurelist }}

								<!-- NOTE Features ----------------------------------------- -->
								<div class="row detail-content">
									<table class="table table-dark" style="max-width: 95%">
										<thead>
											<tr>
												<th>
													Features
												</th>
											</tr>
										</thead>
										<tbody>
											{{ range $features }}
											<tr>
												<td>
													{{ . }}
												</td>
											</tr>
											{{ end }}
										</tbody>
									</table>
								</div>
								{{ end }}
							</div>

							{{ if not .Params.moreimages }}
							<div class="col-md-9">
							{{ else }}
							<div class="col-md-6">
							{{end}}
									<div class="row detail-content wow fadeInUp" data-wow-duration="1.5s">
										<div style="margin-bottom: 15px">
											<h1> {{.Params.name }} </h1>
										</div>
									</div>
									{{ if and ( .Params.moreimages)  (in .Params.moreimagespos "horizontal") }}
									<section class="shuffle-stopper"></section>
									<section class="project" id="projects">
									<div class="container-fluid text-center">
										<div class="filtering wow fadeInUp" data-wow-duration="1.5s">
											<ul class="project-navigation">
												<li data-filter="all" class="hvr-sweep-to-right active">All Items</li>
											</ul>
										</div>
										<div class=" filtr-container-detail wow fadeInUp list" data-wow-duration="1.5s">
											{{$name := .Params.name}}
											{{ $folder :=  printf "static/images/projects/%s/" (.Params.name | lower) }}
		
											{{ if fileExists $folder }}
											{{ $files := readDir $folder }}
											{{ range $files }}
											{{ $file := .Name }}
											<div class="filtr-item-detail" data-category="{{ $file | urlize }}">
												{{ $image_split := split $file "."}}
												{{ $image_base := index $image_split 0 }}
												{{ $image_ext := index $image_split 1 }}
												{{ if not (or (in $image_base "0") (in $image_base "_small")  (in $image_ext "gif") ) }}
												<div class="item-holder-detail">
													<div class="pop-up-img">
														<a href="/images/projects/{{lower $name }}/{{ $image_base }}.{{$image_ext}}"
															title="{{ $image_base | safeHTML }}">
															<img src="/images/projects/{{lower $name }}/{{ $image_base }}.{{$image_ext}}"
																alt="project-thumb"
																class="img-fluid rounded float-left mr-5 mb-4">
														</a>
													</div>
												</div>
												{{ end }}
											</div>
											
											{{ end }}
											{{ end }}
										</div>
									</div>
									</section>
										{{ end }}
									
									<div class="row detail-content wow fadeInUp" data-wow-duration="1.5s">
										<div style="margin-bottom: 15px">
											{{.Params.Content | markdownify | emojify}}
										</div>
									</div>

									<div class="row detail-content wow fadeInUp" data-wow-duration="1.5s">
										<!-- NOTE Content ----------------------------------------- -->
										{{ if .Params.htmlenable }}
										<div>
											{{.Params.htmlcontent | safeHTML  }}
										</div>
										{{end}}
									</div>

									<!-- NOTE Gifs -------------------------------------------- -->
									<div class="row detail-content wow fadeInUp" data-wow-duration="1.5s">

										{{ if .Params.gifs }}
										{{ $gifs := .Params.gifs }}
										{{ range $gifs }}

										<div style="margin-bottom: 15px">
											<img src="{{ . }}" style="width: 100%;">
										</div>

										{{ end }}
										{{ end }}
									</div>

									<!-- NOTE Videos ------------------------------------------ -->
									<div class="row detail-content wow fadeInUp" data-wow-duration="1.5s">

										{{ if .Params.videos }}
										{{ $videos := .Params.videos }}
										{{ range $videos }}

										<div style="margin-bottom: 15px">
											<video preload="auto" autoplay="autoplay" loop="loop"
												style="width: 100%;">
												<source src="{{ . }}" type="video/webm">
												</source>
											</video>
										</div>

										{{ end }}
										{{ end }}
									</div>
							</div>
									{{ if .Params.moreimages }}
											<div class=" col-md-3">
												<div class="text-holder wow fadeInUp" data-wow-duration="1.5s">
													{{$name := .Params.name}}
													{{ $folder :=  printf "static/images/projects/%s/" (.Params.name | lower) }}

													{{ if fileExists $folder }}
													{{ $files := readDir $folder }}
													{{ range $files }}
													{{ $file := .Name }}
													{{ $image_split := split $file "."}}
													{{ $image_base := index $image_split 0 }}
													{{ $image_ext := index $image_split 1 }}
													{{ if not (or (in $image_base "0") (in $image_base "_small")  (in $image_ext "gif") ) }}

													<!-- NOTE Image Sidebar ----------------------------------- -->
													<div class="filtr-container-detail wow fadeInUp detail-content"
														data-wow-duration="1.5s">
														<div class="item-holder-detail">
														<div class="pop-up-img">
															<a href="/images/projects/{{lower $name }}/{{ $image_base }}.{{$image_ext}}"
																title="{{ $image_base | safeHTML }}">
																<img src="/images/projects/{{lower $name }}/{{ $image_base }}.{{$image_ext}}"
																	alt="project-thumb"
																	class="img-fluid rounded float-left mr-5 mb-4">
															</a>
														</div>
														</div>
													</div>

													{{ end }}
													{{ end }}
													{{ end }}
												</div>
											</div>
									{{ end }}
							</div>
						</div>
					</div>
				</div>
</section>

{{ end }}